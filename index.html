<!DOCTYPE html>
<html lang ="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leaflet tutorial</title>

    <!-- leaflet css -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
    <style>

        body{
            margin: 0;
            padding: 0;
        }
        #map {
            width: 100%;
            height: 100vh;
        }
    </style>
</head>
<body>
    <div id="map"></div>

</body>
</html>

<!-- leaflet js -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
<script src="./data/Communes.js"></script>


<script>
    // Map initialization
    var map = L.map('map').setView([3.52, 11.31], 8);

    //osm layer
    var osm = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
        ttribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    });
    //osm.addTo(map);

// Water color
var Watercolor = L.tileLayer('https://tiles.stadiamaps.com/tiles/stamen_watercolor/{z}/{x}/{y}.{ext}', {
	minZoom: 1,
	maxZoom: 16,
	attribution: '&copy; <a href="https://www.stadiamaps.com/" target="_blank">Stadia Maps</a> &copy; <a href="https://www.stamen.com/" target="_blank">Stamen Design</a> &copy; <a href="https://openmaptiles.org/" target="_blank">OpenMapTiles</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
	ext: 'jpg'
});
// Watercolor.addTo(map)

// Esri Topo Map

var EsriMap = L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}', {
	attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'
});
 EsriMap.addTo(map);

// Google streets basemap

googleStreets = L.tileLayer('http://{s}.google.com/vt?lyrs=m&x={x}&y={y}&z={z}',{
    maxZoom: 20,
    subdomains:['mt0','mt1','mt2','mt3']
});
//googleStreets.addTo(map);

// Google satellite
googleSat = L.tileLayer('http://{s}.google.com/vt?lyrs=s&x={x}&y={y}&z={z}',{
    maxZoom: 20,
    subdomains:['mt0','mt1','mt2','mt3']
});
//googleSat.addTo(map);

// google hybrid

googleHybrid = L.tileLayer('http://{s}.google.com/vt?lyrs=s,h&x={x}&y={y}&z={z}',{
    maxZoom: 20,
    subdomains:['mt0','mt1','mt2','mt3']
});
// googleHybrid.addTo(map);

// Add a marker symbol
var myIcon = L.icon({
    iconUrl: 'img/red_marker.png',
    iconSize: [30, 40],
    
});
var singleMarker = L.marker([3.52, 11.31], {icon: myIcon, draggable: true});
var secondMarker = L.marker([4.62, 12.41], {icon: myIcon, draggable: true});
var popup = singleMarker.bindPopup('This is Cameroon' + singleMarker.getLatLng()).openPopup();
popup.addTo(map);

console.log(singleMarker.toGeoJSON());


// Add GeoJson file to the map

var Communes = L.geoJSON(communesJSON, {
    onEachFeature: function(feature, layer){
        layer.bindPopup(feature.properties.NAME_3)

    },
    style: {
        fillColor: 'black',
        fillOpacity: 0.0000001,
        color: 'black',
        weight: 2
    }

}).addTo(map);


// Layer controller
var baseMaps = {
    "OpenStreetMap": osm,
    "Watercolor": Watercolor,
    "Google Hybrid": googleHybrid,
    "Esri World Topo": EsriMap
};

var overlayMaps = {
    "First Marker": singleMarker,
    "Second Marker": secondMarker,
    "Communes": Communes
};
map.removeLayer(singleMarker)

var layerControl = L.control.layers(baseMaps, overlayMaps, {collapsed: false}).addTo(map);



</script>